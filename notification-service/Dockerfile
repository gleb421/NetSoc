# üõ† –°—Ç–∞–¥–∏—è —Å–±–æ—Ä–∫–∏
FROM gradle:8.5-jdk21 AS builder

# –°–æ–∑–¥–∞–µ–º —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
WORKDIR /netSoc/notification-service

COPY . .

# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ notification-service –∏ —Å–æ–±–∏—Ä–∞–µ–º
WORKDIR /netSoc/notification-service
RUN gradle bootJar --no-daemon

# üßä –§–∏–Ω–∞–ª—å–Ω—ã–π –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑
FROM eclipse-temurin:21-jdk-alpine

WORKDIR /netSoc
COPY --from=builder /netSoc/notification-service/build/libs/*.jar app.jar

ENTRYPOINT ["java", "-jar", "app.jar"]
